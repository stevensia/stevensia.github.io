---
layout: post
title:  冷静的想想，现在应该做什么
date:   2016-01-14 08:22:02
categories: python
tags: 思考
excerpt: 
---
* content
{:toc}

最近事情很多，python零零碎碎的学习了一些东西，scrapy也是东挪西凑写了点东西抓两个网站，但是似乎这两天才搞明白Selector，也才明白这并不是我想要的，或者说我开始以为Scrapy能干的事和我想象的不一样，需要重新思考一下。

Scrapy的Selector是一个选择器，用scrapy发出一个请求后，Seletor就已经产生了，不管你用不用，它就在那里。那么我们能用它干嘛呢？

- 内建两个重要的方法，xpath & css  

- 内建正则表达式Re  

- 内建extact返回Selector对象列表，当然也可以返回字符串  


但是我们用到最多的就是xpath方法了，开始我只是简单的看了一下语法，发现处理html确实很方便，于是东拼西凑的整了两个礼拜，最后我明白了，这玩意是很好用，但是有个巨大的缺陷，那就是它只能处理一组类似的元素或者属性,不能顺序处理。这是个坑爹的地方，因为很多时候我需要顺序处理，条件判断，然后获取我想要的内容，可是尼玛这是啥玩意，难道是我了解的太浅，实际上它也是能顺序处理的？

**好吧，言归正传，我到底要干嘛？**

其实xpath这个功能已经是够够的了，不管是抓取部分数据，还是顺序处理，难道就不能获取HTML片段后再局部处理嘛？脑袋要灵活点，不能浪费时间了！

所以问题的关键还是回到这里：我需要干嘛！

其实我的初衷很简单，了解爬虫技术，在产生这个初衷之前我不是很了解爬虫这个概念本身最常用的功能是干嘛的，所以可能xpath这种是很准确的满足了爬虫的要求：获取部分数据，获取某个数值，例如标题，价格等数据，简单说，数据挖掘？

好吧，我真的很菜：（

**那么我现在需要干嘛呢？**

目前被卡住的： 
1. liao网站没处理完，其中文字部分完美拿下，但是标题部分需要稍微处理一下，生成顺序标题。  
2. sammy网站还处在混乱中，问题在于其中包含大量图片以及推荐链接，思路如下:  

  顺序处理post_detail部分html代码，遇到img，下载，保存到指定目录，文档中加入图片链接；
  文字链接部分，如果带有a属性，用[]加入链接指示。

前提都是要顺序处理，基本上xpath要被抛弃，没办法，我这是整站搬迁。。。

>那这是我不是我现在应该干的事呢？

好像也不是！最近python也学了快一个月了，只是进步不大，收获甚微。原因还是自己太过浮躁，一些基本问题没有弄明白，就急于求成的去平凑代码写程序，怎不知万丈高楼平地起，咱还是应该慢慢来啊。

抽根烟去，回来好好反省。

SMOKING...SMOKING..

---

**Here we go!**

既然xpath最适合抓取特定数据，那么咱们就来做这些事，有几个我想过的： 

1. 特定内容类网站的文章列表  

2. 微信公众号排名top50  

3. 监测JD/AMAZON/TMALL某商品价格列表变动，并生成价格变化曲线  

