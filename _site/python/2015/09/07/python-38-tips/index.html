<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="个人技术总结，读书笔记，心得等 | 这里是 Stevensia的个人博客，与君共勉。">
    <meta name="keyword"  content="Python, Steven的博客, Steven Blog, linux">
    <link rel="shortcut icon" href="img/favicon.ico">

    <title>38个python数据类型小技巧 - Steven's Blog!</title>

    <link rel="canonical" href="http://universus.cn/python/2015/09/07/python-38-tips/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="http://cdn.staticfile.org/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Steven's Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About me</a>
                    </li>
                    
                    <li>
                        <a href="/portfolio/">Portfolio</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/bigshows/coding1.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/bigshows/coding1.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-9 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#python奇技淫巧" title="python奇技淫巧">python奇技淫巧</a>
                        
                    </div>
                    <h1>38个python数据类型小技巧</h1>
                    
                    
                    <h2 class="subheading"></h2>
                    
                    <span class="meta">Posted by Steven's Blog on September 7, 2015</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-9 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<p>摘自<a href="http://sahandsaba.com/thirty-python-language-features-and-tricks-you-may-not-know.html">30 Python Language Features and Tricks You May Not Know About</a>, 其中一些知识点我加了释义和参考，enjoy 😊.</p>

<p><img src="http://beginman.qiniudn.com/Python-tips-trics-hacks-for-web-application-development.jpg" alt="" /></p>

<h1 id="unpacking">1.Unpacking</h1>

<pre><code>&gt;&gt;&gt; a, b, c = 1, 2, 3
&gt;&gt;&gt; a, b, c
(1, 2, 3)
&gt;&gt;&gt; a, b, c = [1, 2, 3]
&gt;&gt;&gt; a, b, c
(1, 2, 3)
&gt;&gt;&gt; a, b, c = (2 * i + 1 for i in range(3))
&gt;&gt;&gt; a, b, c
(1, 3, 5)
&gt;&gt;&gt; a, (b, c), d = [1, (2, 3), 4]
&gt;&gt;&gt; a
1
&gt;&gt;&gt; b
2
&gt;&gt;&gt; c
3
&gt;&gt;&gt; d
4
</code></pre>

<h1 id="unpacking-for-swapping-variables">2.Unpacking for swapping variables</h1>

<pre><code>&gt;&gt;&gt; a, b = 1, 2
&gt;&gt;&gt; a, b = b, a
&gt;&gt;&gt; a, b
(2, 1)
</code></pre>

<h1 id="extended-unpacking-python-3-only">3. Extended unpacking (Python 3 only)</h1>

<pre><code>&gt;&gt;&gt; a, *b, c = [1, 2, 3, 4, 5]
&gt;&gt;&gt; a
1
&gt;&gt;&gt; b
[2, 3, 4]
&gt;&gt;&gt; c
5
</code></pre>

<h1 id="negative-indexing">4.Negative indexing</h1>

<pre><code>&gt;&gt;&gt; a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[-1]
10
&gt;&gt;&gt; a[-3]
8
</code></pre>

<h1 id="list-slices-astartend">5.List slices (a[start:end])</h1>

<pre><code>&gt;&gt;&gt; a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[2:8]
[2, 3, 4, 5, 6, 7]
</code></pre>

<h1 id="list-slices-with-negative-indexing">6.List slices with negative indexing</h1>

<pre><code>&gt;&gt;&gt; a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[-4:-2]
[7, 8]
</code></pre>

<h1 id="list-slices-with-step-astartendstep">7.List slices with step (a[start:end:step])</h1>

<pre><code>&gt;&gt;&gt; a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[::2]
[0, 2, 4, 6, 8, 10]
&gt;&gt;&gt; a[::3]
[0, 3, 6, 9]
&gt;&gt;&gt; a[::-1]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
&gt;&gt;&gt; a[2:8:2]
[2, 4, 6]
</code></pre>

<p>这里就发觉很奇怪了，切片操作，<code>a[start:end:step]</code>, 参数解释如下：<br />
- <code>start</code>:第一个元素对象，正索引位置默认为0；负索引位置默认为 <code>-len(seq)</code><br />
- <code>end</code>: 最后一个元素对象，正索引位置默认为 <code>len(seq)</code>－1；负索引位置默认为 -1<br />
- <code>step</code>：步长，默认为1，步长值不能为0。</p>

<p>如果索引为正，则从左至右取值，如:</p>

<pre><code>&gt;&gt;&gt; a[1:5:2]
[1, 3]
&gt;&gt;&gt; a[1:5:1]
[1, 2, 3, 4]
&gt;&gt;&gt; a[1:5:]
[1, 2, 3, 4]
</code></pre>

<p>如果为负，则从右往左，</p>

<pre><code>&gt;&gt;&gt; a[-10:-6:2]
[1, 3]
</code></pre>

<p>其中，三者都可以省略：</p>

<pre><code>&gt;&gt;&gt; a[::]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[1::]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[:3:]
[0, 1, 2]
&gt;&gt;&gt; a[::1]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[::2]
[0, 2, 4, 6, 8, 10]
&gt;&gt;&gt; a[-1::]
[10]
&gt;&gt;&gt; a[-3::]
[8, 9, 10]
&gt;&gt;&gt; a[:-1:]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; a[:-3:]
[0, 1, 2, 3, 4, 5, 6, 7]
&gt;&gt;&gt; a[::-1]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
&gt;&gt;&gt; 
</code></pre>

<p>更过切片的知识可参考:<a href="http://beginman.cn/python技巧/2015/04/09/python-splice/">理解python序列类型的切片</a></p>

<h1 id="list-slices-with-negative-step">8.List slices with negative step</h1>

<pre><code>&gt;&gt;&gt; a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; a[::-1]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
&gt;&gt;&gt; a[::-2]
[10, 8, 6, 4, 2, 0]
</code></pre>

<h1 id="list-slice-assignment">9. List slice assignment</h1>

<pre><code>&gt;&gt;&gt; a = [1,2,3,4,5]
&gt;&gt;&gt; a[2:3]
[3]
&gt;&gt;&gt; a[2:3] = [0, 0]
&gt;&gt;&gt; a
[1, 2, 0, 0, 4, 5]
&gt;&gt;&gt; a[2:3] 
[0]
&gt;&gt;&gt; a[2:4]
[0, 0]
&gt;&gt;&gt; a[2:4] = [1,2,3]
&gt;&gt;&gt; a[2:3]
[1]
&gt;&gt;&gt; a[2:4] 
[1, 2]
&gt;&gt;&gt; a
[1, 2, 1, 2, 3, 4, 5]
</code></pre>

<p>这里对切片进行赋值，如<code>a[2:3]</code>返回的是<strong>引用</strong>，我们对它赋值会影响源序列</p>

<pre><code>&gt;&gt;&gt; a[2:4] = ['a', 'b', 'c', 'd']			# 将['a', 'b', 'c', 'd']赋值给a[2:4]引用,插入至原序列a中
&gt;&gt;&gt; a
[1, 2, 'a', 'b','c','d' 5]
</code></pre>

<p>同理，也可以删除它们：</p>

<pre><code>&gt;&gt;&gt; a = [1,2,3,4,5]
&gt;&gt;&gt; a[2:4] = []
&gt;&gt;&gt; a
[1, 2, 5]
</code></pre>

<h1 id="naming-slices-slicestart-end-step">10. Naming slices (slice(start, end, step))</h1>

<pre><code>&gt;&gt;&gt; my = slice(4)
&gt;&gt;&gt; my
slice(None, 4, None)
&gt;&gt;&gt; l = list(range(10))
&gt;&gt;&gt; l
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; l[my]
[0, 1, 2, 3]
&gt;&gt;&gt; slice(5)
slice(None, 5, None)
&gt;&gt;&gt; slice(2)
slice(None, 2, None)
&gt;&gt;&gt; slice(1)
slice(None, 1, None)
&gt;&gt;&gt; slice(-2)
slice(None, -2, None)
&gt;&gt;&gt; slice(3, None)
slice(3, None, None)
&gt;&gt;&gt; slice(1, 3, None)
slice(1, 3, None)
</code></pre>

<p><code>slice(start, end, step)</code> 内置函数，也就是切片的原生。</p>

<h1 id="iterating-over-list-index-and-value-pairs-enumerate">11. Iterating over list index and value pairs (enumerate)</h1>

<pre><code>&gt;&gt;&gt; a = ['Hello', 'world', '!']
&gt;&gt;&gt; for i, x in enumerate(a):
...     print '{}: {}'.format(i, x)
...
0: Hello
1: world
2: !
</code></pre>

<p>对于列表，<code>enumerate()</code>返回索引和对应的值.</p>

<h1 id="iterating-over-dictionary-key-and-value-pairs-dictiteritems">12. Iterating over dictionary key and value pairs (dict.iteritems)</h1>

<pre><code>&gt;&gt;&gt; m = {'a': 1, 'b': 2, 'c': 3, 'd': 4}
&gt;&gt;&gt; for k, v in m.iteritems():
...     print '{}: {}'.format(k, v)
...
a: 1
c: 3
b: 2
d: 4
</code></pre>

<p>对于字典,<code>dict.iteritems()</code>返回键值对。</p>

<p><strong>Note: use dict.items in Python 3.</strong></p>

<h1 id="zipping-and-unzipping-lists-and-iterables">13. Zipping and unzipping lists and iterables</h1>

<pre><code>&gt;&gt;&gt; a = [1,2,3]
&gt;&gt;&gt; b = ['a','b','c']
&gt;&gt;&gt; zip(a, b)
[(1, 'a'), (2, 'b'), (3, 'c')]
&gt;&gt;&gt; s = zip(a, b)
&gt;&gt;&gt; zip(s)
[((1, 'a'),), ((2, 'b'),), ((3, 'c'),)]
&gt;&gt;&gt; zip(*s)			
[(1, 2, 3), ('a', 'b', 'c')]
</code></pre>

<p>zip(a, b)进行压缩， zip(*s)则是解压</p>

<h1 id="grouping-adjacent-list-items-using-zip">14. Grouping adjacent list items using zip</h1>

<pre><code>&gt;&gt;&gt; a = [1, 2, 3, 4, 5, 6]

&gt;&gt;&gt; # Using iterators
&gt;&gt;&gt; group_adjacent = lambda a, k: zip(*([iter(a)] * k))
&gt;&gt;&gt; group_adjacent(a, 3)
[(1, 2, 3), (4, 5, 6)]
&gt;&gt;&gt; group_adjacent(a, 2)
[(1, 2), (3, 4), (5, 6)]
&gt;&gt;&gt; group_adjacent(a, 1)
[(1,), (2,), (3,), (4,), (5,), (6,)]

&gt;&gt;&gt; # Using slices
&gt;&gt;&gt; from itertools import islice
&gt;&gt;&gt; group_adjacent = lambda a, k: zip(*(islice(a, i, None, k) for i in range(k)))
&gt;&gt;&gt; group_adjacent(a, 3)
[(1, 2, 3), (4, 5, 6)]
&gt;&gt;&gt; group_adjacent(a, 2)
[(1, 2), (3, 4), (5, 6)]
&gt;&gt;&gt; group_adjacent(a, 1)
[(1,), (2,), (3,), (4,), (5,), (6,)]
</code></pre>

<p>关于zip可参考:<a href="http://www.cnblogs.com/beginman/archive/2013/03/14/2959447.html">Python零碎知识(2):强大的zip</a></p>

<h2 id="section">(1).迭代器</h2>
<p>内置函数<code>iter()</code>使用可迭代对象(iterable object)作为参数，返回一个iterator对象</p>

<pre><code>&gt;&gt;&gt; x = iter([1, 2, 3])
&gt;&gt;&gt; x
&lt;listiterator object at 0x1004ca850&gt;
&gt;&gt;&gt; x.next()
1
&gt;&gt;&gt; x.next()
2
&gt;&gt;&gt; x.next()
3
&gt;&gt;&gt; x.next()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
StopIteration
</code></pre>

<p>每次调用<code>next()</code>返回下一个元素，如果没有则触发StopIteration异常，下面用类模仿<code>xrang()</code>：</p>

<pre><code>class yrange:
    def __init__(self, n):
        self.i = 0
        self.n = n

    def __iter__(self):
        return self

    def next(self):
        if self.i &lt; self.n:
            i = self.i
            self.i += 1
            return i
        else:
            raise StopIteration()
</code></pre>

<p><code>__iter__</code>方法使对象可迭代，就是通过调用<code>iter</code>方法，返回一个可迭代对象，此对象应该有<code>next</code>方法</p>

<pre><code>&gt;&gt;&gt; y = yrange(3)
&gt;&gt;&gt; y.next()
0
&gt;&gt;&gt; y.next()
1
&gt;&gt;&gt; y.next()
2
&gt;&gt;&gt; y.next()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "&lt;stdin&gt;", line 14, in next
StopIteration
</code></pre>

<p>也可以直接用list等内置函数:</p>

<pre><code>&gt;&gt;&gt; list(yrange(5))
[0, 1, 2, 3, 4]
&gt;&gt;&gt; sum(yrange(5))
10
</code></pre>

<p>在上述情况下，无论是可迭代和迭代器是同一个对象。注意<code>__iter__</code>不必每次都返回<code>self</code>, 如下：</p>

<pre><code>class zrange:
    def __init__(self, n):
        self.n = n

    def __iter__(self):
        return zrange_iter(self.n)

class zrange_iter:
    def __init__(self, n):
        self.i = 0
        self.n = n

    def __iter__(self):
        # Iterators are iterables too.
        # Adding this functions to make them so.
        return self

    def next(self):
        if self.i &lt; self.n:
            i = self.i
            self.i += 1
            return i
        else:
            raise StopIteration()
</code></pre>

<p>如果可迭代和迭代器是同一个对象，他们被消耗在单次迭代：</p>

<pre><code>&gt;&gt;&gt; y = yrange(5)
&gt;&gt;&gt; list(y)
[0, 1, 2, 3, 4]
&gt;&gt;&gt; list(y)
[]
&gt;&gt;&gt; z = zrange(5)
&gt;&gt;&gt; list(z)
[0, 1, 2, 3, 4]
&gt;&gt;&gt; list(z)
[0, 1, 2, 3, 4]
</code></pre>

<h2 id="section-1">(2). 生成器</h2>
<p>生成器简化了创建迭代器:</p>

<pre><code>def yrange(n):
    i = 0
    while i &lt; n:
        yield i
        i += 1
</code></pre>

<p>每次<code>yield</code>语句生成一个新值：</p>

<pre><code>&gt;&gt;&gt; y = yrange(3)
&gt;&gt;&gt; y
&lt;generator object yrange at 0x401f30&gt;
&gt;&gt;&gt; y.next()
0
&gt;&gt;&gt; y.next()
1
&gt;&gt;&gt; y.next()
2
&gt;&gt;&gt; y.next()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
StopIteration
</code></pre>

<p>所以<strong>生成器也是迭代器</strong></p>

<pre><code>&gt;&gt;&gt; def foo():
...     print "begin"
...     for i in range(3):
...         print "before yield", i
...         yield i
...         print "after yield", i
...     print "end"
...
&gt;&gt;&gt; f = foo()
&gt;&gt;&gt; f.next()
begin
before yield 0
0
&gt;&gt;&gt; f.next()
after yield 0
before yield 1
1
&gt;&gt;&gt; f.next()
after yield 1
before yield 2
2
&gt;&gt;&gt; f.next()
after yield 2
end
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
StopIteration
&gt;&gt;&gt;
</code></pre>

<p>下面一个算法，使用生成器的方式计算连续n个元素(0~n, n可无穷大)的平方：</p>

<pre><code>def integers():
    i = 1
    while 1:
        yield i
        i += 1


def squares():
    for i in integers():
        yield i * i


def take(n, seq):
    result = []
    seq = iter(seq)
    try:
        for i in range(n):
            result.append(seq.next())
    except StopIteration:
        pass
    return result


print take(5, squares()) # prints [1, 4, 9, 16, 25]
</code></pre>

<h2 id="section-2">(3).生成器表达式</h2>
<p>生成器表达式看起来像list的含义，但返回的是一个备用的生成器而非一个列表.特么这句话”Generator Expressions are generator version of list comprehensions. They look like list comprehensions, but returns a generator back instead of a list.”我也不好理解。。。。</p>

<p><img src="http://beginman.qiniudn.com/funs.png" alt="" /></p>

<pre><code>&gt;&gt;&gt; a = (x for x in range(10))
&gt;&gt;&gt; a
&lt;generator object &lt;genexpr&gt; at 0x103279aa0&gt;
&gt;&gt;&gt; sum(a)
45

&gt;&gt;&gt; a = (x for x in range(10))
&gt;&gt;&gt; a.next()
0
&gt;&gt;&gt; a.next()
1
&gt;&gt;&gt; a.next()
2
&gt;&gt;&gt; sum(a)		# 注意缩减啊
42
</code></pre>

<h2 id="xrange-vs-range">(4).xrange vs range</h2>

<ul>
  <li><code>range</code>: range([start,] stop[, step])，根据start与stop指定的范围以及step设定的步长，生成一个序列。</li>
  <li>
    <p><code>xrange</code>: 用法与range完全相同，所不同的是生成的不是一个数组，而是一个生成器。</p>

    <blockquote>
      <blockquote>
        <blockquote>
          <p>xrange(1,5)<br />
  xrange(1, 5)<br />
list(xrange(1,5))<br />
  [1, 2, 3, 4]</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </li>
</ul>

<p><strong>要生成很大的数字序列的时候，用xrange会比range性能优很多，因为不需要一上来就开辟一块很大的内存空间，这两个基本上都是在循环的时候用</strong></p>

<h2 id="itertoolsislice">(5). itertools.islice</h2>
<p>函数原型:</p>

<pre><code>itertools.islice(iterable, start, stop[, step])
</code></pre>

<p>返回的迭代器是返回了输入迭代器根据索引来选取的项,生成项的方式类似于切片返回值,与切片不同，负值不会用于任何start，stop和step， 如果省略了start，迭代将从0开始，如果省略了step，步幅将采用1.</p>

<pre><code>from itertools import *

print 'Stop at 5:'
for i in islice(count(), 5):
    print i,					# 0,1,2,3,4

print 'Start at 5, Stop at 10:'
for i in islice(count(), 5, 10):
    print i,					# 5,6,7,8,9

print 'By tens to 100:'
for i in islice(count(), 0, 100, 10):
    print i,					# 0,10,20,30,40,50,60,70,80,90
</code></pre>

<p>再上一个例子中，用了高阶函数<code>islice()</code>实现：</p>

<pre><code>&gt;&gt;&gt; group_adjacent = lambda a, k: zip(*(islice(a, i, None, k) for i in range(k)))
&gt;&gt;&gt; group_adjacent(a, 3)
[(1, 2, 3), (4, 5, 6)]
</code></pre>

<p>乍一看会有点吓人，我们拆分来看：</p>

<pre><code>&gt;&gt;&gt; s = (islice(range(10), i, None, 3) for i in range(3))			# 通过for循环用islice创建3个迭代器，组成了生成器
&gt;&gt;&gt; for i in s:
...     print i, list(i)
... 
&lt;itertools.islice object at 0x10329b368&gt; [0, 3, 6, 9]			# islice(range(10), 0, None, 3) --从0索引开始步长为3-&gt; [0, 3, 6, 9]
&lt;itertools.islice object at 0x10329b260&gt; [1, 4, 7]				# islice(range(10), 1, None, 3) -- 从1索引开始步长为3-&gt;[1,4,7]
&lt;itertools.islice object at 0x10329b368&gt; [2, 5, 8]				# islice(range(10), 2, None, 3) -- 从2索引开始步长为3-&gt;[2,5,8]
</code></pre>

<p>那么<code>zip(*s)</code>解压, 由于最短元素个数为3个，则元素9会被过滤掉：</p>

<pre><code>&gt;&gt;&gt; s = (islice(range(10), i, None, 3) for i in range(3))
&gt;&gt;&gt; zip(*s)
[(0, 1, 2), (3, 4, 5), (6, 7, 8)]
</code></pre>

<h1 id="sliding-windows-n-grams-using-zip-and-iterators">15. Sliding windows (n-grams) using zip and iterators</h1>

<pre><code>&gt;&gt;&gt; from itertools import islice
&gt;&gt;&gt; def n_grams(a, n):
...     z = (islice(a, i, None) for i in range(n))		# 这里步长为1
...     return zip(*z)
...
&gt;&gt;&gt; a = [1, 2, 3, 4, 5, 6]
&gt;&gt;&gt; n_grams(a, 3)
[(1, 2, 3), (2, 3, 4), (3, 4, 5), (4, 5, 6)]
&gt;&gt;&gt; n_grams(a, 2)
[(1, 2), (2, 3), (3, 4), (4, 5), (5, 6)]
&gt;&gt;&gt; n_grams(a, 4)
[(1, 2, 3, 4), (2, 3, 4, 5), (3, 4, 5, 6)]
</code></pre>

<h1 id="inverting-a-dictionary-using-zip">16. Inverting a dictionary using zip</h1>

<pre><code>&gt;&gt;&gt; m = {'a': 1, 'b': 2, 'c': 3, 'd': 4}
&gt;&gt;&gt; m.items()
[('a', 1), ('c', 3), ('b', 2), ('d', 4)]
&gt;&gt;&gt; zip(m.values(), m.keys())
[(1, 'a'), (3, 'c'), (2, 'b'), (4, 'd')]
&gt;&gt;&gt; mi = dict(zip(m.values(), m.keys()))
&gt;&gt;&gt; mi
{1: 'a', 2: 'b', 3: 'c', 4: 'd'}
</code></pre>

<h1 id="flattening-lists">17. Flattening lists:</h1>

<p>这里开始平铺了，共有3种方式：<code>itertools.chain.from_iterable</code>, <code>sum</code>, 和列表推导</p>

<pre><code>&gt;&gt;&gt; a = [[1, 2], [3, 4], [5, 6]]
&gt;&gt;&gt; list(itertools.chain.from_iterable(a))
[1, 2, 3, 4, 5, 6]

&gt;&gt;&gt; sum(a, [])
[1, 2, 3, 4, 5, 6]

&gt;&gt;&gt; [x for l in a for x in l]
[1, 2, 3, 4, 5, 6]

&gt;&gt;&gt; a = [[[1, 2], [3, 4]], [[5, 6], [7, 8]]]
&gt;&gt;&gt; [x for l1 in a for l2 in l1 for x in l2]
[1, 2, 3, 4, 5, 6, 7, 8]

&gt;&gt;&gt; a = [1, 2, [3, 4], [[5, 6], [7, 8]]]
&gt;&gt;&gt; flatten = lambda x: [y for l in x for y in flatten(l)] if type(x) is list else [x]
&gt;&gt;&gt; flatten(a)
[1, 2, 3, 4, 5, 6, 7, 8]
</code></pre>

<h1 id="generator-expressions">18. Generator expressions</h1>

<pre><code>&gt;&gt;&gt; g = (x ** 2 for x in xrange(10))
&gt;&gt;&gt; next(g)
0
&gt;&gt;&gt; next(g)
1
&gt;&gt;&gt; next(g)
4
&gt;&gt;&gt; next(g)
9
&gt;&gt;&gt; sum(x ** 3 for x in xrange(10))
2025
&gt;&gt;&gt; sum(x ** 3 for x in xrange(10) if x % 3 == 1)
408
</code></pre>

<h1 id="dictionary-comprehensions">19. Dictionary comprehensions</h1>

<pre><code>&gt;&gt;&gt; m = {x: x ** 2 for x in range(5)}
&gt;&gt;&gt; m
{0: 0, 1: 1, 2: 4, 3: 9, 4: 16}

&gt;&gt;&gt; m = {x: 'A' + str(x) for x in range(10)}
&gt;&gt;&gt; m
{0: 'A0', 1: 'A1', 2: 'A2', 3: 'A3', 4: 'A4', 5: 'A5', 6: 'A6', 7: 'A7', 8: 'A8', 9: 'A9'}
</code></pre>

<h1 id="inverting-a-dictionary-using-a-dictionary-comprehension">20. Inverting a dictionary using a dictionary comprehension</h1>

<pre><code>&gt;&gt;&gt; m = {'a': 1, 'b': 2, 'c': 3, 'd': 4}
&gt;&gt;&gt; m
{'d': 4, 'a': 1, 'b': 2, 'c': 3}
&gt;&gt;&gt; {v: k for k, v in m.items()}
{1: 'a', 2: 'b', 3: 'c', 4: 'd'}
</code></pre>

<h1 id="named-tuples-collectionsnamedtuple">21. Named tuples (collections.namedtuple)</h1>

<pre><code>&gt;&gt;&gt; Point = collections.namedtuple('Point', ['x', 'y'])
&gt;&gt;&gt; p = Point(x=1.0, y=2.0)
&gt;&gt;&gt; p
Point(x=1.0, y=2.0)
&gt;&gt;&gt; p.x
1.0
&gt;&gt;&gt; p.y
2.0
</code></pre>

<p>Python拥有一些内置的数据类型，比如str, int, list, tuple, dict等， <code>collections</code>模块在这些内置数据类型的基础上，提供了几个额外的数据类型：</p>

<ul>
  <li><code>namedtuple()</code>: 生成可以使用名字来访问元素内容的tuple子类</li>
  <li><code>deque</code>: 双端队列，可以快速的从另外一侧追加和推出对象</li>
  <li><code>Counter</code>: 计数器，主要用来计数</li>
  <li><code>OrderedDict</code>: 有序字典</li>
  <li><code>defaultdict</code>: 带有默认值的字典</li>
</ul>

<p>可参考<a href="http://www.zlovezl.cn/articles/collections-in-python/">不可不知的Python模块: collections</a></p>

<h1 id="inheriting-from-named-tuples">22. Inheriting from named tuples:</h1>

<pre><code>&gt;&gt;&gt; class Point(collections.namedtuple('PointBase', ['x', 'y'])):
...     __slots__ = ()
...     def __add__(self, other):
...             return Point(x=self.x + other.x, y=self.y + other.y)
...
&gt;&gt;&gt; p = Point(x=1.0, y=2.0)
&gt;&gt;&gt; q = Point(x=2.0, y=3.0)
&gt;&gt;&gt; p + q
Point(x=3.0, y=5.0)
</code></pre>

<h1 id="sets-and-set-operations">23. Sets and set operations</h1>

<pre><code>&gt;&gt;&gt; A = {1, 2, 3, 3}
&gt;&gt;&gt; A
set([1, 2, 3])
&gt;&gt;&gt; B = {3, 4, 5, 6, 7}
&gt;&gt;&gt; B
set([3, 4, 5, 6, 7])
&gt;&gt;&gt; A | B
set([1, 2, 3, 4, 5, 6, 7])
&gt;&gt;&gt; A &amp; B
set([3])
&gt;&gt;&gt; A - B
set([1, 2])
&gt;&gt;&gt; B - A
set([4, 5, 6, 7])
&gt;&gt;&gt; A ^ B
set([1, 2, 4, 5, 6, 7])
&gt;&gt;&gt; (A ^ B) == ((A - B) | (B - A))
True
</code></pre>

<h1 id="multisets-and-multiset-operations-collectionscounter">24. Multisets and multiset operations (collections.Counter)</h1>

<pre><code>&gt;&gt;&gt; A = collections.Counter([1, 2, 2])
&gt;&gt;&gt; B = collections.Counter([2, 2, 3])
&gt;&gt;&gt; A
Counter({2: 2, 1: 1})
&gt;&gt;&gt; B
Counter({2: 2, 3: 1})
&gt;&gt;&gt; A | B
Counter({2: 2, 1: 1, 3: 1})
&gt;&gt;&gt; A &amp; B
Counter({2: 2})
&gt;&gt;&gt; A + B
Counter({2: 4, 1: 1, 3: 1})
&gt;&gt;&gt; A - B
Counter({1: 1})
&gt;&gt;&gt; B - A
Counter({3: 1})
</code></pre>

<h1 id="most-common-elements-in-an-iterable-collectionscounte">25. Most common elements in an iterable (collections.Counte</h1>

<pre><code>&gt;&gt;&gt; A = collections.Counter([1, 1, 2, 2, 3, 3, 3, 3, 4, 5, 6, 7])
&gt;&gt;&gt; A
Counter({3: 4, 1: 2, 2: 2, 4: 1, 5: 1, 6: 1, 7: 1})
&gt;&gt;&gt; A.most_common(1)
[(3, 4)]
&gt;&gt;&gt; A.most_common(3)
[(3, 4), (1, 2), (2, 2)]
</code></pre>

<h1 id="double-ended-queue-collectionsdeque">26. Double-ended queue (collections.deque)</h1>

<pre><code>&gt;&gt;&gt; Q = collections.deque()
&gt;&gt;&gt; Q.append(1)
&gt;&gt;&gt; Q.appendleft(2)
&gt;&gt;&gt; Q.extend([3, 4])
&gt;&gt;&gt; Q.extendleft([5, 6])
&gt;&gt;&gt; Q
deque([6, 5, 2, 1, 3, 4])
&gt;&gt;&gt; Q.pop()
4
&gt;&gt;&gt; Q.popleft()
6
&gt;&gt;&gt; Q
deque([5, 2, 1, 3])
&gt;&gt;&gt; Q.rotate(3)
&gt;&gt;&gt; Q
deque([2, 1, 3, 5])
&gt;&gt;&gt; Q.rotate(-3)
&gt;&gt;&gt; Q
deque([5, 2, 1, 3])
</code></pre>

<h1 id="double-ended-queue-with-maximum-length-collectionsdeque">27. Double-ended queue with maximum length (collections.deque)</h1>

<pre><code>&gt;&gt;&gt; last_three = collections.deque(maxlen=3)
&gt;&gt;&gt; for i in xrange(10):
...     last_three.append(i)
...     print ', '.join(str(x) for x in last_three)
...
0
0, 1
0, 1, 2
1, 2, 3
2, 3, 4
3, 4, 5
4, 5, 6
5, 6, 7
6, 7, 8
7, 8, 9
</code></pre>

<h1 id="ordered-dictionaries-collectionsordereddict">28. Ordered dictionaries (collections.OrderedDict)</h1>

<pre><code>&gt;&gt;&gt; m = dict((str(x), x) for x in range(10))
&gt;&gt;&gt; print ', '.join(m.keys())
1, 0, 3, 2, 5, 4, 7, 6, 9, 8
&gt;&gt;&gt; m = collections.OrderedDict((str(x), x) for x in range(10))
&gt;&gt;&gt; print ', '.join(m.keys())
0, 1, 2, 3, 4, 5, 6, 7, 8, 9
&gt;&gt;&gt; m = collections.OrderedDict((str(x), x) for x in range(10, 0, -1))
&gt;&gt;&gt; print ', '.join(m.keys())
10, 9, 8, 7, 6, 5, 4, 3, 2, 1
</code></pre>

<h1 id="default-dictionaries-collectionsdefaultdict">29. Default dictionaries (collections.defaultdict)</h1>

<pre><code>&gt;&gt;&gt; m = dict()
&gt;&gt;&gt; m['a']
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
KeyError: 'a'
&gt;&gt;&gt;
&gt;&gt;&gt; m = collections.defaultdict(int)
&gt;&gt;&gt; m['a']
0
&gt;&gt;&gt; m['b']
0
&gt;&gt;&gt; m = collections.defaultdict(str)
&gt;&gt;&gt; m['a']
''
&gt;&gt;&gt; m['b'] += 'a'
&gt;&gt;&gt; m['b']
'a'
&gt;&gt;&gt; m = collections.defaultdict(lambda: '[default value]')
&gt;&gt;&gt; m['a']
'[default value]'
&gt;&gt;&gt; m['b']
'[default value]'
</code></pre>

<h1 id="using-default-dictionaries-to-represent-simple-trees">30. Using default dictionaries to represent simple trees</h1>

<pre><code>&gt;&gt;&gt; import json
&gt;&gt;&gt; tree = lambda: collections.defaultdict(tree)
&gt;&gt;&gt; root = tree()
&gt;&gt;&gt; root['menu']['id'] = 'file'
&gt;&gt;&gt; root['menu']['value'] = 'File'
&gt;&gt;&gt; root['menu']['menuitems']['new']['value'] = 'New'
&gt;&gt;&gt; root['menu']['menuitems']['new']['onclick'] = 'new();'
&gt;&gt;&gt; root['menu']['menuitems']['open']['value'] = 'Open'
&gt;&gt;&gt; root['menu']['menuitems']['open']['onclick'] = 'open();'
&gt;&gt;&gt; root['menu']['menuitems']['close']['value'] = 'Close'
&gt;&gt;&gt; root['menu']['menuitems']['close']['onclick'] = 'close();'
&gt;&gt;&gt; print json.dumps(root, sort_keys=True, indent=4, separators=(',', ': '))
{
    "menu": {
        "id": "file",
        "menuitems": {
            "close": {
                "onclick": "close();",
                "value": "Close"
            },
            "new": {
                "onclick": "new();",
                "value": "New"
            },
            "open": {
                "onclick": "open();",
                "value": "Open"
            }
        },
        "value": "File"
    }
}
</code></pre>

<h1 id="mapping-objects-to-unique-counting-numbers-collectionsdefaultdict">31. Mapping objects to unique counting numbers (collections.defaultdict)</h1>

<pre><code>&gt;&gt;&gt; import itertools, collections
&gt;&gt;&gt; value_to_numeric_map = collections.defaultdict(itertools.count().next)
&gt;&gt;&gt; value_to_numeric_map['a']
0
&gt;&gt;&gt; value_to_numeric_map['b']
1
&gt;&gt;&gt; value_to_numeric_map['c']
2
&gt;&gt;&gt; value_to_numeric_map['a']
0
&gt;&gt;&gt; value_to_numeric_map['b']
1
&gt;&gt;&gt;value
defaultdict(&lt;method-wrapper 'next' of itertools.count object at 0x1094cdb00&gt;,
        {'a': 0, 'b': 1, 'c': 2, 'd': 3})
</code></pre>

<p>上面这几部分用的了<code>collections</code>模块，关于此模块参考这里吧：<a href="http://beginman.cn/python/2015/09/07/collections/">Python collections模块</a></p>

<h1 id="largest-and-smallest-elements-heapqnlargest-and-heapqnsmallest">32. Largest and smallest elements (heapq.nlargest and heapq.nsmallest)</h1>

<pre><code>&gt;&gt;&gt;import random, heapq
&gt;&gt;&gt;a = [random.randint(0, 100) for __ in xrange(100)]
&gt;&gt;&gt; heapq.nsmallest(5, a)		# 5个最小元素
[0, 2, 4, 6, 8]
&gt;&gt;&gt; heapq.nlargest(5, a)		# 5个最大元素
[100, 100, 98, 96, 95]
</code></pre>

<h1 id="cartesian-products-itertoolsproduct">33. Cartesian products (itertools.product)</h1>

<pre><code>&gt;&gt;&gt; for p in itertools.product([1, 2, 3], [4, 5]):
(1, 4)
(1, 5)
(2, 4)
(2, 5)
(3, 4)
(3, 5)
&gt;&gt;&gt; for p in itertools.product([0, 1], repeat=4):
...     print ''.join(str(x) for x in p)
...
0000
0001
0010
0011
0100
0101
0110
0111
1000
1001
1010
1011
1100
1101
1110
1111
</code></pre>

<h1 id="combinations-and-combinations-with-replacement-itertoolscombinations-and-itertoolscombinationswithreplacement">34.Combinations and combinations with replacement (itertools.combinations and itertools.combinations_with_replacement)</h1>

<pre><code>In [48]: for i in itertools.combinations([1,2,3,4,5], 3):
   ....:     print i
   ....:     
(1, 2, 3)
(1, 2, 4)
(1, 2, 5)
(1, 3, 4)
(1, 3, 5)
(1, 4, 5)
(2, 3, 4)
(2, 3, 5)
(2, 4, 5)
(3, 4, 5)


In [51]: for c in itertools.combinations_with_replacement([1,2,3,4,5], 3):
print c
   ....:     
(1, 1, 1)
(1, 1, 2)
(1, 1, 3)
(1, 1, 4)
(1, 1, 5)
(1, 2, 2)
(1, 2, 3)
(1, 2, 4)
(1, 2, 5)
(1, 3, 3)
(1, 3, 4)
(1, 3, 5)
(1, 4, 4)
(1, 4, 5)
(1, 5, 5)
(2, 2, 2)
(2, 2, 3)
(2, 2, 4)
(2, 2, 5)
(2, 3, 3)
(2, 3, 4)
(2, 3, 5)
(2, 4, 4)
(2, 4, 5)
(2, 5, 5)
(3, 3, 3)
(3, 3, 4)
(3, 3, 5)
(3, 4, 4)
(3, 4, 5)
(3, 5, 5)
(4, 4, 4)
(4, 4, 5)
(4, 5, 5)
(5, 5, 5)
</code></pre>

<h1 id="permutations-itertoolspermutations">35. Permutations (itertools.permutations)</h1>

<pre><code>In [52]: for i in itertools.permutations([1,2,3,4]):
   ....:     print i
   ....:     
(1, 2, 3, 4)
(1, 2, 4, 3)
(1, 3, 2, 4)
(1, 3, 4, 2)
(1, 4, 2, 3)
(1, 4, 3, 2)
(2, 1, 3, 4)
(2, 1, 4, 3)
(2, 3, 1, 4)
(2, 3, 4, 1)
(2, 4, 1, 3)
(2, 4, 3, 1)
(3, 1, 2, 4)
(3, 1, 4, 2)
(3, 2, 1, 4)
(3, 2, 4, 1)
(3, 4, 1, 2)
(3, 4, 2, 1)
(4, 1, 2, 3)
(4, 1, 3, 2)
(4, 2, 1, 3)
(4, 2, 3, 1)
(4, 3, 1, 2)
(4, 3, 2, 1)
</code></pre>

<h1 id="chaining-iterables-itertoolschain">36. Chaining iterables (itertools.chain)</h1>

<pre><code>&gt;&gt;&gt; a = [1, 2, 3, 4]
&gt;&gt;&gt; for p in itertools.chain(itertools.combinations(a, 2), itertools.combinations(a, 3)):
...     print p
...
(1, 2)
(1, 3)
(1, 4)
(2, 3)
(2, 4)
(3, 4)
(1, 2, 3)
(1, 2, 4)
(1, 3, 4)
(2, 3, 4)
&gt;&gt;&gt; for subset in itertools.chain.from_iterable(itertools.combinations(a, n) for n in range(len(a) + 1))
...     print subset
...
()
(1,)
(2,)
(3,)
(4,)
(1, 2)
(1, 3)
(1, 4)
(2, 3)
(2, 4)
(3, 4)
(1, 2, 3)
(1, 2, 4)
(1, 3, 4)
(2, 3, 4)
(1, 2, 3, 4)
</code></pre>

<h1 id="grouping-rows-by-a-given-key-itertoolsgroupby">37. Grouping rows by a given key (itertools.groupby)</h1>

<pre><code>&gt;&gt;&gt; from operator import itemgetter
&gt;&gt;&gt; import itertools
&gt;&gt;&gt; with open('contactlenses.csv', 'r') as infile:
...     data = [line.strip().split(',') for line in infile]
...
&gt;&gt;&gt; data = data[1:]
&gt;&gt;&gt; def print_data(rows):
...     print '\n'.join('\t'.join('{: &lt;16}'.format(s) for s in row) for row in rows)
...

&gt;&gt;&gt; print_data(data)
young               myope                   no                      reduced                 none
young               myope                   no                      normal                  soft
young               myope                   yes                     reduced                 none
young               myope                   yes                     normal                  hard
young               hypermetrope            no                      reduced                 none
young               hypermetrope            no                      normal                  soft
young               hypermetrope            yes                     reduced                 none
young               hypermetrope            yes                     normal                  hard
pre-presbyopic      myope                   no                      reduced                 none
pre-presbyopic      myope                   no                      normal                  soft
pre-presbyopic      myope                   yes                     reduced                 none
pre-presbyopic      myope                   yes                     normal                  hard
pre-presbyopic      hypermetrope            no                      reduced                 none
pre-presbyopic      hypermetrope            no                      normal                  soft
pre-presbyopic      hypermetrope            yes                     reduced                 none
pre-presbyopic      hypermetrope            yes                     normal                  none
presbyopic          myope                   no                      reduced                 none
presbyopic          myope                   no                      normal                  none
presbyopic          myope                   yes                     reduced                 none
presbyopic          myope                   yes                     normal                  hard
presbyopic          hypermetrope            no                      reduced                 none
presbyopic          hypermetrope            no                      normal                  soft
presbyopic          hypermetrope            yes                     reduced                 none
presbyopic          hypermetrope            yes                     normal                  none

&gt;&gt;&gt; data.sort(key=itemgetter(-1))
&gt;&gt;&gt; for value, group in itertools.groupby(data, lambda r: r[-1]):
...     print '-----------'
...     print 'Group: ' + value
...     print_data(group)
...
-----------
Group: hard
young               myope                   yes                     normal                  hard
young               hypermetrope            yes                     normal                  hard
pre-presbyopic      myope                   yes                     normal                  hard
presbyopic          myope                   yes                     normal                  hard
-----------
Group: none
young               myope                   no                      reduced                 none
young               myope                   yes                     reduced                 none
young               hypermetrope            no                      reduced                 none
young               hypermetrope            yes                     reduced                 none
pre-presbyopic      myope                   no                      reduced                 none
pre-presbyopic      myope                   yes                     reduced                 none
pre-presbyopic      hypermetrope            no                      reduced                 none
pre-presbyopic      hypermetrope            yes                     reduced                 none
pre-presbyopic      hypermetrope            yes                     normal                  none
presbyopic          myope                   no                      reduced                 none
presbyopic          myope                   no                      normal                  none
presbyopic          myope                   yes                     reduced                 none
presbyopic          hypermetrope            no                      reduced                 none
presbyopic          hypermetrope            yes                     reduced                 none
presbyopic          hypermetrope            yes                     normal                  none
-----------
Group: soft
young               myope                   no                      normal                  soft
young               hypermetrope            no                      normal                  soft
pre-presbyopic      myope                   no                      normal                  soft
pre-presbyopic      hypermetrope            no                      normal                  soft
presbyopic          hypermetrope            no                      normal                  soft
</code></pre>

<p>这几个都是<code>itertools</code>模块的内容，可参考<a href="http://www.wklken.me/posts/2013/08/20/python-extra-itertools.html#itertoolsisliceiterable-stop">PYTHON-进阶-ITERTOOLS模块小结</a></p>



                <hr>

                


                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/operation/2015/09/07/make/" data-toggle="tooltip" data-placement="top" title="make,make install命令">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/operation/2015/09/07/yum-error/" data-toggle="tooltip" data-placement="top" title="yum异常解决方案">Next Post &rarr;</a>
                    </li>
                    
                </ul>


                

                

            </div>

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#linux基础" title="linux基础" rel="14">
                                    linux基础
                                </a>
                            
        				
                            
                				<a href="/tags/#Python" title="Python" rel="20">
                                    Python
                                </a>
                            
        				
                            
                				<a href="/tags/#linux服务器" title="linux服务器" rel="10">
                                    linux服务器
                                </a>
                            
        				
                            
                				<a href="/tags/#Mysql" title="Mysql" rel="11">
                                    Mysql
                                </a>
                            
        				
                            
                				<a href="/tags/#OS System" title="OS System" rel="7">
                                    OS System
                                </a>
                            
        				
                            
                				<a href="/tags/#python技巧" title="python技巧" rel="21">
                                    python技巧
                                </a>
                            
        				
                            
                				<a href="/tags/#redis" title="redis" rel="14">
                                    redis
                                </a>
                            
        				
                            
                				<a href="/tags/#django" title="django" rel="8">
                                    django
                                </a>
                            
        				
                            
                				<a href="/tags/#tornado" title="tornado" rel="6">
                                    tornado
                                </a>
                            
        				
                            
                				<a href="/tags/#Shell" title="Shell" rel="7">
                                    Shell
                                </a>
                            
        				
                            
                				<a href="/tags/#git" title="git" rel="5">
                                    git
                                </a>
                            
        				
                            
                				<a href="/tags/#web开发" title="web开发" rel="2">
                                    web开发
                                </a>
                            
        				
                            
                				<a href="/tags/#jQuery" title="jQuery" rel="3">
                                    jQuery
                                </a>
                            
        				
                            
                				<a href="/tags/#人生" title="人生" rel="4">
                                    人生
                                </a>
                            
        				
                            
                				<a href="/tags/#备份" title="备份" rel="2">
                                    备份
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Nginx" title="Nginx" rel="3">
                                    Nginx
                                </a>
                            
        				
                            
                				<a href="/tags/#windows服务器" title="windows服务器" rel="3">
                                    windows服务器
                                </a>
                            
        				
                            
        				
                            
                				<a href="/tags/#python模块" title="python模块" rel="2">
                                    python模块
                                </a>
                            
        				
                            
        				
                            
                				<a href="/tags/#运维" title="运维" rel="4">
                                    运维
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#python奇技淫巧" title="python奇技淫巧" rel="4">
                                    python奇技淫巧
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#python" title="python" rel="17">
                                    python
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Unix网络编程" title="Unix网络编程" rel="7">
                                    Unix网络编程
                                </a>
                            
        				
                            
                				<a href="/tags/#C" title="C" rel="2">
                                    C
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#ops" title="ops" rel="3">
                                    ops
                                </a>
                            
        				
                            
                				<a href="/tags/#book" title="book" rel="4">
                                    book
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#mongodb" title="mongodb" rel="6">
                                    mongodb
                                </a>
                            
        				
                            
        				
        			</div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>
    </div>
</article>








<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/stevensia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Steven's Blog 2016
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- Highlight.js -->
<script>
    async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
        hljs.initHighlightingOnLoad();
    })
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>
<link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">

<!--fastClick.js -->
<script>
    async("http://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->




<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
